<p-toast></p-toast>
<div class="card">
    <span class="text-900 text-xl font-bold mb-4 block">Perfil de Usuario</span>
    <div class="grid p-fluid">
        <div class="col-12 lg:col-3">
            <div class="text-900 font-medium text-xl mb-3">Rol de Usuario</div>
            <p-dropdown (onChange)="onSelectGroup($event)" (onClear)="onClearGroup()" [(ngModel)]="selectedGroup"
                        [options]="groups"
                        placeholder="Seleccione un rol"></p-dropdown>
            <div class="text-900 font-medium text-xl mt-4 mb-3">Permisos Asignados</div>
            <div *ngIf="!loadingRoles; else loading">
                <div *ngIf="roles.length > 0; else noRoles">
                    <div *ngFor="let rol of roles">
                        <p npm list -g --depth=0class="m-0 p-0 text-600 line-height-3 mr-3">-{{ rol }}</p>
                    </div>
                </div>
                <ng-template #noRoles>
                    <p>Seleccione un rol para ver los permisos</p>
                </ng-template>
            </div>

            <ng-template #loading>
                <div style="display: flex; justify-content: center; align-items: center;">
                    <p-progressSpinner ariaLabel="Cargando..."></p-progressSpinner>
                </div>
            </ng-template>
        </div>
        <div class="col-12 lg:col-9">
            <div class="grid formgrid p-fluid">
                <div class="field mb-4 col-12 md:col-6">
                    <label class="font-medium text-900" for="firstName">Nombres <span
                            style="color: red;">*</span></label>
                    <input [formControl]="firstNameControl" id="firstName" pInputText type="text">
                </div>
                <div class="field mb-4 col-12 md:col-6">
                    <label class="font-medium text-900" for="lastName">Apellidos <span
                            style="color: red;">*</span></label>
                    <input [formControl]="lastNameControl" id="lastName" pInputText type="text">
                </div>
                <div class="field mb-4 col-12 md:col-6">
                    <label class="font-medium text-900" for="email">Correo Electrónico <span
                            style="color: red;">*</span></label>
                    <input [formControl]="emailControl" id="email" pInputText type="text">
                </div>
                <div class="field mb-4 col-12 md:col-6">
                    <label class="font-medium text-900" for="phone">Teléfono</label>
                    <input [formControl]="phoneControl" [pKeyFilter]="'int'" id="phone" pInputText type="text">
                </div>

                <div class="field mb-4 col-12">
                    <label class="font-medium text-900" for="bio">Acerca de mi</label>
                    <textarea [autoResize]="true" [formControl]="descriptionControl" id="bio" pInputTextarea rows="5"
                              type="text"></textarea>
                </div>

                <div class="col-12 lg:col-3 md:col-4 field">
                    <button (click)="onSave()" [loading]="isLoading" class="flex-auto" icon="pi pi-save" label="Guardar" pButton
                            pRipple></button>
                </div>
                <div class="col-12 lg:col-3 md:col-4 field">
                    <button (click)="onCancel()" [loadingIcon]="'pi pi-times'" [loading]="isLoading" class="flex-auto p-button-outlined"
                            icon="pi pi-times" label="Cancelar" pButton
                            pRipple></button>
                </div>

            </div>
        </div>
    </div>
</div>
