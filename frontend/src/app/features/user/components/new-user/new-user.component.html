<p-toast></p-toast>
<div class="card">
  <span class="text-900 text-xl font-bold mb-4 block">Perfil de Usuario</span>
  <div class="grid p-fluid">
    <div class="col-12 lg:col-3">
      <div class="text-900 font-medium text-xl mb-3">Rol de Usuario</div>
      <p-dropdown [options]="groups" [(ngModel)]="selectedGroup" placeholder="Seleccione un rol" [showClear]="true" (onChange)="onSelectGroup($event)" (onClear)="onClearGroup()"></p-dropdown>
      <div class="text-900 font-medium text-xl mt-4 mb-3">Permisos Asignados</div>
      <div *ngIf="!loadingRoles; else loading">
        <div *ngIf="roles.length > 0; else noRoles">
          <div *ngFor="let rol of roles">
            <p class="m-0 p-0 text-600 line-height-3 mr-3">-{{ rol }}</p>
          </div>
        </div>
        <ng-template #noRoles>
          <p>Seleccione un rol para ver los permisos</p>
        </ng-template>
      </div>

      <ng-template #loading>
        <div style="display: flex; justify-content: center; align-items: center;">
          <p-progressSpinner ariaLabel="Cargando..."></p-progressSpinner>
        </div>
      </ng-template>
    </div>
    <div class="col-12 lg:col-9">
      <div class="grid formgrid p-fluid">
        <div class="field mb-4 col-12 md:col-6">
          <label for="firstName" class="font-medium text-900">Nombre <span style="color: red;">*</span></label>
          <input id="firstName" type="text" pInputText [formControl]="firstNameControl">
        </div>
        <div class="field mb-4 col-12 md:col-6">
          <label for="lastName" class="font-medium text-900">Apellidos <span style="color: red;">*</span></label>
          <input id="lastName" type="text" pInputText [formControl]="lastNameControl">
        </div>
        <div class="field mb-4 col-12 md:col-6">
          <label for="email" class="font-medium text-900">Correo Electrónico <span style="color: red;">*</span></label>
          <input id="email" type="text" pInputText [formControl]="emailControl">
        </div>
        <div class="field mb-4 col-12 md:col-6">
          <label for="phone" class="font-medium text-900">Teléfono</label>
          <input id="phone" type="text" pInputText [formControl]="phoneControl">
        </div>

        <div class="field mb-4 col-12">
          <label for="bio" class="font-medium text-900">Acerca de mi</label>
          <textarea id="bio" type="text" pInputTextarea rows="5" [autoResize]="true" [formControl]="descriptionControl"></textarea>
        </div>
        <div class="col-12 d-flex justify-content-between">
          <button pButton pRipple label="Guardar" class="w-auto mt-3 mr-3" (click)="onSave()"></button>
          <button pButton pRipple label="Cancelar" class="w-auto mt-3 p-button-outlined" [routerLink]="['/users']"></button>
        </div>
      </div>
    </div>
  </div>
</div>
