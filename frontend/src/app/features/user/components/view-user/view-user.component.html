<div class="card">
    <span class="text-900 text-xl font-bold mb-4 block">Perfil de Usuario</span>
    <div *ngIf="user else loading" class="grid">
        <div class="col-12 lg:col-2">
            <div class="flex justify-center items-center mb-4 justify-content-center">
                <img [src]="profilePictureUrl" alt="Profile"
                     style="width: 120px; height: 120px; border-radius: 50%; object-fit: cover"/>
            </div>
            <div class="text-900 font-medium text-xl mb-3">Roles</div>
            <div *ngFor="let group of user.groups">
                <p class="m-0 p-0 text-600 line-height-3 mr-3">-{{ group }}</p>
            </div>
            <div class="text-900 font-medium text-xl mt-4 mb-3">Permisos</div>
            <div *ngFor="let rol of user.roles">
                <p class="m-0 p-0 text-600 line-height-3 mr-3">-{{ rol }}</p>
            </div>
        </div>
        <div class="col-12 lg:col-10">
            <div class="grid formgrid p-fluid">
                <div class="field mb-4 col-12 md:col-6">
                    <label class="font-medium text-900" for="firstName">Nombres</label>
                    <input [ngModel]="user.firstName" [readonly]="true" id="firstName" pInputText type="text">
                </div>
                <div class="field mb-4 col-12 md:col-6">
                    <label class="font-medium text-900" for="lastName">Apellidos</label>
                    <input [ngModel]="user.lastName" [readonly]="true" id="lastName" pInputText type="text">
                </div>
                <div class="field mb-4 col-12 md:col-6">
                    <label class="font-medium text-900" for="email">Correo Electrónico</label>
                    <input [(ngModel)]="user.email" [readonly]="true" id="email" pInputText type="text">
                </div>
                <div class="field mb-4 col-12 md:col-6">
                    <label class="font-medium text-900" for="phone">Teléfono</label>
                    <input [(ngModel)]="user.phone" [readonly]="true" id="phone" pInputText type="text">
                </div>

                <div class="field mb-4 col-12">
                    <label class="font-medium text-900" for="bio">Acerca de mi</label>
                    <textarea [(ngModel)]="user.description" [autoResize]="true" [readonly]="true" id="bio" pInputTextarea
                              rows="5"
                              type="text"></textarea>
                </div>

                <div class="col-12 lg:col-3 md:col-4 field">
                    <button (click)="onBack()" class="flex-auto mt-3 p-button-outlined" icon="pi pi-arrow-left" label="Volver"
                            pButton
                            pRipple></button>
                </div>
            </div>
        </div>
    </div>
</div>

<ng-template #loading>
    <div class="col-12 lg:col-12" style="display: flex; justify-content: center; align-items: center; height: 100%;">
        <p-progressSpinner ariaLabel="Cargando..."></p-progressSpinner>
    </div>
</ng-template>
